<!DOCTYPE html>
<html>
    <head>
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <link type="text/css" rel="stylesheet" href="css/materialize.css" media="screen,projection"/>

        <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
        <!--<link rel="stylesheet" type="text/css" href="css/core.css">-->
        <link rel="stylesheet" href="css/core.css"></link>
        <title>TechPedia</title>
    </head>
    <body onLoad="checkIfNeedToSearch()">
        <header>
            <div class="navbar-fixed">
                <nav class="indigo">
                    <div class="nav-wrapper">
                        <div class="row">
                            <div class="col s2">
                                <a href="#" data-activates="slide-out" class="button-collapse">
                                    <i class="fa fa-bars" aria-hidden="true"></i>
                                </a>
                                <ul class="side-nav grey lighten-2" id="slide-out">
                                    <div class="section indigo" style="padding-top: 20%;"></div>
                                    <li><a href="" class="black-text">Arts <i class="fa fa-arrow-right right"></i></a></li>
                                </ul>
                            </div>
                            <!--<div class="col s2 push-s1"><a href="#!" class="brand-logo left">TechPedia</a></div>-->
                            <div class="col s2 push-l3  hide-on-med-and-down">
                                <a href="#!" class="brand-logo">TechPedia</a>
                            </div>
                            <div class="col s2 push-s3 hide-on-large-only">
                                <a href="#!" class="brand-logo">TechPedia</a>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>
        </header>
        <main>
            <div class="row">
                <div class="col s3 grey lighten-2 hide-on-med-and-down" style="height: 86.99vh; float: left; position: absolute; overflow-y: scroll; overflow-x: hidden;">
                    <div class="collection" id="control-desk">
                        <a href="#!" class="collection-item black-text grey lighten-2">Arts <i class="fa fa-arrow-right right indigo-text"></i></a>
                    </div>
                </div>                
                <div class="col l9 s12" style="height: 86.99vh; float: right; overflow-x: hidden;" autofocus>
                    <div id="search-form-in-index-mobile" style="display: flex; align-items: baseline; justify-content: center; text-align: center; padding-top: 18vh; padding-right: 5%">
                        <div class="input-field" style="width: 80%;">
                            <i class="fa fa-search fa-lg prefix" style="margin-top: 4%; font-size:25px;"></i>
                            <input id="search-input-in-index-mobile" onkeyup="tryupmobile()" type="text" style="font-size: 130%" required>
                            <label for="search"></label>
                        </div>
                    </div>
                    <h4 id="intro-text-mobile" class="grey-text" style="width: 100%; display: flex; align-items: top; justify-content: center; text-align: center; padding: 0% 9% 0% 9%;">To start, search for a term or acronym or browse through the different fields of knowledge from the side navigation panel</h4>
                    <div id="results-container-mobile" style="display: none; width: 90%; padding-left: 10%">
                        <div id="results-container-mobile-title"></div>
                        <div id="results-container-mobile-text"></div>
                    </div>
                </div>
                <script type="text/javascript">
                    function tryupmobile(){
                        var searchterm=document.getElementById("search-input-in-index-mobile").value;
                        if (searchterm == "") {
                            document.getElementById("search-form-in-index-mobile").style="display: flex; align-items: baseline; justify-content: center; text-align: center; padding-top: 18vh; padding-right: 10%";
                            document.getElementById("intro-text-mobile").style.display = "flex";
                            document.getElementById("results-container-mobile").style.display = "none";
                        } else {
                            searchT(searchterm);
                            document.getElementById("search-form-in-index-mobile").style="display: flex; align-items: baseline; justify-content: center; text-align: center; padding-top: 2vh; padding-right: 10%";
                            document.getElementById("intro-text-mobile").style.display = "none";
                            document.getElementById("results-container-mobile").style.display = "block";
                        }
                    }
                </script>
            </div>
        </div>
        </main>
        <footer>           
        </footer>
        <script type="text/javascript" src="cordova.js" charset="utf-8"></script>
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/materialize.js"></script>

        <script type="text/javascript" src="js/search.js"></script>
        <script type="text/javascript">     
           $(document).ready(function() {
              Materialize.updateTextFields();
            });
            $(".button-collapse").sideNav();
            /*$(".button-collapse").sideNav({
                draggable: false
            });*/
            var conn= new Connection();
            function searchT(searchterm){
                
                conn.search(searchterm, "title");
                conn.search(searchterm, "text");
            }
            conn.getCategories("Category:MainCat");
            function checkIfNeedToSearch(){
                var parm=findGetParameter("searchTerm");
                if(parm!=null){
                    document.getElementById("search-input-in-index-mobile").value=parm;
                    tryupmobile();
                }
            }
            $("#search-input-in-index-mobile").keyup(function(event){
                if(event.keyCode == 13){
                    tryupmobile();
                }
            });
        </script>
    </body>
</html>
